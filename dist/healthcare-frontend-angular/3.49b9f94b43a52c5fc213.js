(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{da9U:function(t,e,i){"use strict";i.d(e,"a",function(){return K}),i.d(e,"b",function(){return C}),i.d(e,"h",function(){return x}),i.d(e,"g",function(){return O}),i.d(e,"k",function(){return P}),i.d(e,"m",function(){return I}),i.d(e,"l",function(){return _}),i.d(e,"j",function(){return j}),i.d(e,"i",function(){return H}),i.d(e,"n",function(){return V}),i.d(e,"f",function(){return E}),i.d(e,"q",function(){return R}),i.d(e,"p",function(){return L}),i.d(e,"c",function(){return k}),i.d(e,"r",function(){return G}),i.d(e,"o",function(){return F}),i.d(e,"e",function(){return g}),i.d(e,"d",function(){return v});var n,r=i("26FU"),o=i("K9Ia"),s=i("p0ib"),u=i("VnD/"),c=(i("gIcY"),i("mrSG")),a=i("wd/R"),h=i("CcnG"),m={AM:"AM",PM:"PM"},p=a,f=function(){function t(){}return t.formatTime=function(t,e){void 0===e&&(e=12);var i=24===e?"HH:mm":"hh:mm a";return p(t,"hh:mm a").format(i)},t.convertTimeToMoment=function(t){return p(t,"hh:mm a")},t.isTimeAvailable=function(t,e,i,n,r){if(t){var o=this.convertTimeToMoment(t),s=o.minutes();if(r&&s%r!=0)throw new Error("Your minutes - "+s+" doesn't match your minutesGap - "+r);var u=e&&!i&&o.isSameOrAfter(e,n),c=i&&!e&&o.isSameOrBefore(i,n),a=e&&i&&o.isBetween(e,i,n,"[]");return u||c||a||!e&&!i}},t.formatHour=function(t,e,i){if(24===e)return t;var n=i===m.AM?t:t+12;return i===m.AM&&12===n?0:i===m.PM&&24===n?12:n},t}(),d=a,l={time:12,angle:360},b={time:0,angle:360},v=function(){function t(){this.hourSubject=new r.a(l),this.minuteSubject=new r.a(b),this.periodSubject=new r.a(m.AM)}return Object.defineProperty(t.prototype,"defaultTime",{set:function(t){var e=d(t,"HH:mm").toDate();d(e).isValid()?(this.hour=Object(c.__assign)({},l,{time:e.getHours()}),this.minute=Object(c.__assign)({},b,{time:e.getMinutes()}),this.period=t.substr(t.length-2).toUpperCase()):this.resetTime()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hour",{set:function(t){this.hourSubject.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedHour",{get:function(){return this.hourSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minute",{set:function(t){this.minuteSubject.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedMinute",{get:function(){return this.minuteSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"period",{set:function(t){this.periodSubject.next(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedPeriod",{get:function(){return this.periodSubject.asObservable()},enumerable:!0,configurable:!0}),t.prototype.setDefaultTimeIfAvailable=function(t,e,i,n,r){try{f.isTimeAvailable(t,e,i,"minutes",r)&&(this.defaultTime=f.formatTime(t,n))}catch(t){console.error(t)}},t.prototype.getFullTime=function(t){var e=this.hourSubject.getValue().time,i=this.minuteSubject.getValue().time,n=12===t?this.periodSubject.getValue():"";return f.formatTime(e+":"+i+" "+n,t)},t.prototype.resetTime=function(){this.hour=Object(c.__assign)({},l),this.minute=Object(c.__assign)({},b),this.period=m.AM},t}(),y=function(){var t={HOUR:0,MINUTE:1};return t[t.HOUR]="HOUR",t[t.MINUTE]="MINUTE",t}(),g=function(){function t(){this.backdropClickSubject=new o.a,this.keydownEventSubject=new o.a}return Object.defineProperty(t.prototype,"backdropClick",{get:function(){return this.backdropClickSubject.asObservable()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keydownEvent",{get:function(){return this.keydownEventSubject.asObservable()},enumerable:!0,configurable:!0}),t.prototype.dispatchEvent=function(t){switch(t.type){case"click":this.backdropClickSubject.next(t);break;case"keydown":this.keydownEventSubject.next(t);break;default:throw new Error("no such event type")}},t}(),T=27,k=function(){function t(t,e){var i=this;this.timepickerService=t,this.eventService=e,this.timeUnit=y,this.activeTimeUnit=y.HOUR,this.isOpened=!1,this.isEsc=!0,this.timeSet=new h.EventEmitter,this.opened=new h.EventEmitter,this.closed=new h.EventEmitter,this.hourSelected=new h.EventEmitter,this.subscriptions=[],this.subscriptions.push(Object(s.a)(this.eventService.backdropClick,this.eventService.keydownEvent.pipe(Object(u.a)(function(t){return t.keyCode===T&&i.isEsc}))).subscribe(function(){return i.close()}))}return Object.defineProperty(t.prototype,"minutesGap",{get:function(){return this._minutesGap},set:function(t){null!=t&&(t=Math.floor(t),this._minutesGap=t<=59?t:1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultTime",{set:function(t){this.setDefaultTime(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minTime",{get:function(){return this.timepickerInput&&this.timepickerInput.min},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxTime",{get:function(){return this.timepickerInput&&this.timepickerInput.max},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.timepickerInput&&this.timepickerInput.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this.timepickerInput&&this.timepickerInput.format},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.subscriptions.push(this.timepickerService.selectedHour.subscribe(function(e){return t.selectedHour=e})),this.subscriptions.push(this.timepickerService.selectedMinute.subscribe(function(e){return t.selectedMinute=e})),this.subscriptions.push(this.timepickerService.selectedPeriod.subscribe(function(e){return t.selectedPeriod=e}))},t.prototype.registerInput=function(t){if(this.timepickerInput)throw Error("A Timepicker can only be associated with a single input.");this.timepickerInput=t},t.prototype.onHourChange=function(t){this.timepickerService.hour=t},t.prototype.onHourSelected=function(t){this.changeTimeUnit(y.MINUTE),this.hourSelected.next(t)},t.prototype.onMinuteChange=function(t){this.timepickerService.minute=t},t.prototype.changePeriod=function(t){this.timepickerService.period=t},t.prototype.changeTimeUnit=function(t){this.activeTimeUnit=t},t.prototype.setTime=function(){this.timeSet.next(this.timepickerService.getFullTime(this.format)),this.close()},t.prototype.setDefaultTime=function(t){this.timepickerService.setDefaultTimeIfAvailable(t,this.minTime,this.maxTime,this.format,this.minutesGap)},t.prototype.open=function(){this.isOpened=!0,this.animationState="enter",this.opened.next()},t.prototype.close=function(){this.animationState="leave"},t.prototype.animationDone=function(t){"done"===t.phaseName&&"leave"===t.toState&&(this.isOpened=!1,this.activeTimeUnit=y.HOUR,this.closed.next())},t.prototype.onKeydown=function(t){this.eventService.dispatchEvent(t),t.stopPropagation()},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach(function(t){return t.unsubscribe()})},t}(),E=function(){function t(){}return Object.defineProperty(t.prototype,"disabled",{get:function(){return void 0===this._disabled?this.timepicker.disabled:this._disabled},set:function(t){this._disabled=t},enumerable:!0,configurable:!0}),t.prototype.open=function(t){this.timepicker&&(this.timepicker.open(),t.stopPropagation())},t}(),C=function(){function t(t){this.elementRef=t,this._format=12,this._value="",this.timepickerSubscriptions=[],this.onTouched=function(){},this.onChange=function(){}}return Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(t){this._format=24===t?24:12},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(t){this._min="string"!=typeof t?t:f.convertTimeToMoment(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(t){this._max="string"!=typeof t?t:f.convertTimeToMoment(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timepicker",{set:function(t){this.registerTimepicker(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(t){if(!t)return this._value="",void this.updateInputValue();var e=f.formatTime(t,this._format);if(f.isTimeAvailable(e,this._min,this._max,"minutes",this._timepicker.minutesGap))return this._value=e,void this.updateInputValue();console.warn("Selected time doesn't match min or max value")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultTime",{set:function(t){this._timepicker.setDefaultTime(t)},enumerable:!0,configurable:!0}),t.prototype.onInput=function(t){this.value=t,this.onChange(t)},t.prototype.ngOnChanges=function(t){t.value&&t.value.currentValue&&(this.defaultTime=t.value.currentValue)},t.prototype.onClick=function(t){this.disableClick||(this._timepicker.open(),t.stopPropagation())},t.prototype.writeValue=function(t){this.value=t,this.defaultTime=t},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.prototype.ngOnDestroy=function(){this.timepickerSubscriptions.forEach(function(t){return t.unsubscribe()})},t.prototype.registerTimepicker=function(t){var e=this;if(!t)throw new Error("NgxMaterialTimepickerComponent is not defined. Please make sure you passed the timepicker to ngxTimepicker directive");this._timepicker=t,this._timepicker.registerInput(this),this.timepickerSubscriptions.push(this._timepicker.timeSet.subscribe(function(t){e.value=t,e.onChange(e._value),e.onTouched()})),this.timepickerSubscriptions.push(this._timepicker.closed.subscribe(function(){return e.defaultTime=e._value}))},t.prototype.updateInputValue=function(){this.elementRef.nativeElement.value=this.value},t}(),S=a;!function(t){t.getHours=function(t){return Array(t).fill(1).map(function(t,e){var i=t+e;return{time:24===i?0:i,angle:30*i}})},t.disableHours=function(t,e){return e.min||e.max?t.map(function(t){var i=24===e.format?t.time:f.formatHour(+t.time,e.format,e.period),n=S().hour(+i).format("hh:mm a");return Object(c.__assign)({},t,{disabled:!f.isTimeAvailable(n,e.min,e.max,"hours")})}):t},t.getMinutes=function(t){void 0===t&&(t=1);for(var e=[],i=0;i<60;i++){var n=6*i;i%t==0&&e.push({time:i,angle:0!==n?n:360})}return e},t.disableMinutes=function(t,e,i){if(i.min||i.max){var n=f.formatHour(e,i.format,i.period);return t.map(function(t){var e=S().hour(n).minute(+t.time).format("hh:mm a");return Object(c.__assign)({},t,{disabled:!f.isTimeAvailable(e,i.min,i.max,"minutes")})})}return t}}(n||(n={}));var w=function(){function t(t){this.hourChange=new h.EventEmitter,this.hourSelected=new h.EventEmitter,this.hoursList=[],this.hoursList=n.getHours(t)}return t.prototype.onTimeSelected=function(t){this.hourSelected.next(t)},t}(),O=function(t){function e(){return t.call(this,24)||this}return Object(c.__extends)(e,t),e.prototype.ngAfterContentInit=function(){this.hoursList=n.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format})},e}(w),x=function(t){function e(){return t.call(this,12)||this}return Object(c.__extends)(e,t),e.prototype.ngOnChanges=function(t){t.period&&t.period.currentValue&&(this.hoursList=n.disableHours(this.hoursList,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period}))},e}(w),H=function(){function t(){this.minutesList=[],this.timeUnit=y,this.minuteChange=new h.EventEmitter}return t.prototype.ngOnChanges=function(t){if(t.period&&t.period.currentValue){var e=n.getMinutes(this.minutesGap);this.minutesList=n.disableMinutes(e,this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}},t}(),j=function(){function t(){this.timeUnit=y,this.innerClockFaceSize=85,this.timeChange=new h.EventEmitter,this.timeSelected=new h.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.setClockHandPosition(),this.addTouchEvents()},t.prototype.ngOnChanges=function(t){var e=this,i=t.faceTime,n=t.selectedTime;i&&i.currentValue&&n&&n.currentValue&&(this.selectedTime=this.faceTime.find(function(t){return t.time===e.selectedTime.time})),n&&n.currentValue&&this.setClockHandPosition(),i&&i.currentValue&&setTimeout(function(){return e.selectAvailableTime()})},t.prototype.trackByTime=function(t,e){return e.time},t.prototype.onMousedown=function(t){t.preventDefault(),this.isStarted=!0},t.prototype.selectTime=function(t){if(this.isStarted||!(t instanceof MouseEvent)||"click"===t.type){var e,i,n,r,o,s=this.clockFace.nativeElement.getBoundingClientRect(),u=s.left+s.width/2,c=s.top+s.height/2,a=180*Math.atan(Math.abs(t.clientX-u)/Math.abs(t.clientY-c))/Math.PI,h=(e=u,n=t.clientX,o=a,(r=t.clientY)>(i=c)&&n>=e?180-o:r>i&&n<e?180+o:r<i&&n<e?360-o:o),m=this.format&&this.isInnerClockFace(u,c,t.clientX,t.clientY),p=this.unit===y.MINUTE?6:30,f=m?M(h,p)+360:M(h,p),d=0===f?360:f,l=this.faceTime.find(function(t){return t.angle===d});l&&!l.disabled&&(this.timeChange.next(l),this.isStarted||this.timeSelected.next(l.time))}},t.prototype.onMouseup=function(t){t.preventDefault(),this.isStarted=!1},t.prototype.isHourSelected=function(t){return t===this.selectedTime.time&&!this.isClockFaceDisabled},t.prototype.isMinuteSelected=function(t){return this.selectedTime.time===t&&t%(this.minutesGap||5)==0&&!this.isClockFaceDisabled},t.prototype.ngOnDestroy=function(){this.removeTouchEvents()},t.prototype.addTouchEvents=function(){this.touchStartHandler=this.onMousedown.bind(this),this.touchEndHandler=this.onMouseup.bind(this),this.clockFace.nativeElement.addEventListener("touchstart",this.touchStartHandler),this.clockFace.nativeElement.addEventListener("touchend",this.touchEndHandler)},t.prototype.removeTouchEvents=function(){this.clockFace.nativeElement.removeEventListener("touchstart",this.touchStartHandler),this.clockFace.nativeElement.removeEventListener("touchend",this.touchEndHandler)},t.prototype.setClockHandPosition=function(){24===this.format&&(this.selectedTime.time>12||0===this.selectedTime.time?this.decreaseClockHand():this.increaseClockHand()),this.clockHand.nativeElement.style.transform="rotate("+this.selectedTime.angle+"deg)"},t.prototype.selectAvailableTime=function(){var t=this,e=this.faceTime.find(function(e){return t.selectedTime.time===e.time});if(this.isClockFaceDisabled=this.faceTime.every(function(t){return t.disabled}),e&&e.disabled&&!this.isClockFaceDisabled){var i=this.faceTime.find(function(t){return!t.disabled});this.timeChange.next(i)}},t.prototype.isInnerClockFace=function(t,e,i,n){return Math.sqrt(Math.pow(i-t,2)+Math.pow(n-e,2))<this.innerClockFaceSize},t.prototype.decreaseClockHand=function(){this.clockHand.nativeElement.style.height="75px",this.clockHand.nativeElement.style.top="calc(50% - 75px)"},t.prototype.increaseClockHand=function(){this.clockHand.nativeElement.style.height="103px",this.clockHand.nativeElement.style.top="calc(50% - 103px)"},t}();function M(t,e){return Math.round(t/e)*e}var P=function(){},_=function(){function t(){this.timeUnit=y,this.periodChanged=new h.EventEmitter,this.timeUnitChanged=new h.EventEmitter,this.hourChanged=new h.EventEmitter,this.minuteChanged=new h.EventEmitter}return t.prototype.ngOnChanges=function(t){if(t.period&&t.period.currentValue||t.format&&t.format.currentValue){var e=n.getHours(this.format);this.hours=n.disableHours(e,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}if(t.period&&t.period.currentValue||t.hour&&t.hour.currentValue){var i=n.getMinutes(this.minutesGap);this.minutes=n.disableMinutes(i,+this.hour,{min:this.minTime,max:this.maxTime,format:this.format,period:this.period})}},t.prototype.changeTimeUnit=function(t){this.timeUnitChanged.next(t)},t.prototype.changePeriod=function(t){this.periodChanged.next(t)},t.prototype.changeHour=function(t){this.hourChanged.next(t)},t.prototype.changeMinute=function(t){this.minuteChanged.next(t)},t.prototype.showHint=function(){this.isHintVisible=!0},t.prototype.hideHint=function(){this.isHintVisible=!1},t}(),U=function(){function t(){}return t.prototype.transform=function(t,e){if(void 0===t)return t;switch(e){case y.HOUR:return Object(a.utc)(3600*t*1e3).format("HH");case y.MINUTE:return Object(a.utc)(60*t*1e3).format("mm");default:throw new Error("no such time unit")}},t}(),I=function(){function t(){this.timeUnitChanged=new h.EventEmitter,this.timeChanged=new h.EventEmitter,this.focused=new h.EventEmitter,this.unfocused=new h.EventEmitter}return Object.defineProperty(t.prototype,"selectedTime",{get:function(){var t=this;if(this.time)return this.timeList.find(function(e){return e.time===+t.time})},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){if(t.time&&void 0!==t.time.currentValue){if(this.isEditable&&!t.time.firstChange)return;this.time=(new U).transform(+t.time.currentValue,this.timeUnit)}},t.prototype.saveTimeAndChangeTimeUnit=function(t,e){t.preventDefault(),this.previousTime=this.time,this.timeUnitChanged.next(e),this.focused.next()},t.prototype.updateTime=function(){var t=this.selectedTime;t&&(this.timeChanged.next(t),this.previousTime=t.time)},t.prototype.formatTime=function(){if(this.isEditable){var t=this.time||this.previousTime;this.time=(new U).transform(+t,this.timeUnit),this.unfocused.next()}},t.prototype.onKeyDown=function(t){var e=String.fromCharCode(t.keyCode);A(t)&&!function(t,e,i){if(/\d/.test(e))return D(t+e,i)}(this.time,e,this.timeList)||t.preventDefault(),A(t)&&this.changeTimeByArrow(t.keyCode)},t.prototype.changeTimeByArrow=function(t){var e;38===t?e=String(+this.time+(this.minutesGap||1)):40===t&&(e=String(+this.time-(this.minutesGap||1))),D(e,this.timeList)||(this.time=e,this.updateTime())},t}();function A(t){return!!([46,8,9,27,13].some(function(e){return e===t.keyCode})||65==t.keyCode&&(!0===t.ctrlKey||!0===t.metaKey)||67==t.keyCode&&(!0===t.ctrlKey||!0===t.metaKey)||88==t.keyCode&&(!0===t.ctrlKey||!0===t.metaKey)||t.keyCode>=35&&t.keyCode<=40)||!((t.keyCode<48||t.keyCode>57)&&(t.keyCode<96||t.keyCode>105))}function D(t,e){var i=e.find(function(e){return e.time===+t});return!i||i&&i.disabled}var V=function(){function t(){this.timePeriod=m,this.isPeriodAvailable=!0,this.periodChanged=new h.EventEmitter}return t.prototype.changePeriod=function(t){this.isPeriodAvailable=this.isSwitchPeriodAvailable(t),this.isPeriodAvailable&&this.periodChanged.next(t)},t.prototype.animationDone=function(){this.isPeriodAvailable=!0},t.prototype.isSwitchPeriodAvailable=function(t){return!this.getDisabledTimeByPeriod(t).every(function(t){return t.disabled})},t.prototype.getDisabledTimeByPeriod=function(t){switch(this.activeTimeUnit){case y.HOUR:return n.disableHours(this.hours,{min:this.minTime,max:this.maxTime,format:this.format,period:t});case y.MINUTE:return n.disableMinutes(this.minutes,+this.selectedHour,{min:this.minTime,max:this.maxTime,format:this.format,period:t});default:throw new Error("no such TimeUnit")}},t}(),F=function(){function t(t){this.domSanitizer=t}return t.prototype.transform=function(t){return t?this.domSanitizer.bypassSecurityTrustStyle(t):t},t}(),L=function(){function t(t){this.eventService=t}return t.prototype.onClick=function(t){this.preventClick||this.eventService.dispatchEvent(t),t.preventDefault()},t}(),G=function(){function t(){}return t.prototype.transform=function(t,e){return void 0===e&&(e=5),t?t%e==0?t:"":t},t}(),R=function(){function t(t,e){this.element=t,this.document=e,this.activeElement=this.document.activeElement}return t.prototype.ngOnChanges=function(){var t=this;this.isFocusActive&&setTimeout(function(){return t.element.nativeElement.focus()})},t.prototype.ngOnDestroy=function(){var t=this;setTimeout(function(){return t.activeElement.focus()})},t}(),K=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[v,g]}},t}()}}]);